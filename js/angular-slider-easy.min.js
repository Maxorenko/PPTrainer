!function(e,t){"use strict";"object"==typeof exports?module.exports=t(require("angular")):"function"==typeof define&&define.amd?define(["angular"],t):t(e.angular)}(window,function(e){var t=e.module("angular-slider-easy",[]),n='<div class="slider-handle"></div>',o={start:0,end:100,decimals:0,outFormatter:function(e,t){return e.point?"Point is: "+e.point:"Range is: "+(e.end-e.start).toFixed(t)}},r=function(e,t){var n=e||{};if(!t||"object"!=typeof t)return n;for(var o in t)!n[o]&&void 0!==typeof t[o]&null!==t[o]&&(n[o]=t[o]);return n},i=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},a=function(e){return e===parseInt(e)&&e===Math.abs(e)},s=function(e){if(!i(e.start))throw new Error("start must be number");if(!i(e.end))throw new Error("end must be number");if(e.start>=e.end)throw new Error("end must be bigger than start");if(!a(e.decimals))throw new Error("decimals must be +int");if(e.handles&&"undefined"!=typeof e.handles[0]){if(!i(e.handles[0]))throw new Error("handles[0] must be number");if(e.handles[0]<e.start||e.handles[0]>e.end)throw new Error("handles[0] must be in [start, end]")}if(e.handles&&"undefined"!=typeof e.handles[1]){if(!i(e.handles[1]))throw new Error("handles[1] must be number");if(e.handles[1]<e.start||e.handles[1]>e.end)throw new Error("handles[1] must be in [start, end]")}},d=function(e){return e.touches&&e.touches.length>0?e.touches[0]:window.jQuery&&window.jQuery.Event&&e instanceof window.jQuery.Event&&e.originalEvent.touches&&e.originalEvent.touches.length>0?e.originalEvent.touches[0]:e},u=function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()},l=function(e){return parseInt(e.css("left"))},c=function(e,t,n){return n/e*t},f=function(e,t,n,o,r){return(n/t*e+r.start).toFixed(o)},h=function(e,t,n){var o=l(t);if(!n)return void e.css("left",o-3-e.prop("clientWidth")/2+"px");var r=l(n),i=Math.max(o,r),a=Math.min(o,r);e.css("left",(i-a)/2+a-3-e.prop("clientWidth")/2+"px")},p=function(e,t,n,o,r,i,a){i?w(e,t,n,o,r,i,a):o.point=f(e,t,l(r),n,a)},v=function(e,t){e.output=t.outFormatter(e.value)},m=function(e,t,n){var o=l(t),r=l(n),i=Math.max(o,r),a=Math.min(o,r),s=i-a;e.css("left",a+"px").css("width",s+"px")},w=function(e,t,n,o,r,i,a){var s=l(r),d=l(i),u=Math.max(s,d),c=Math.min(s,d);o.start=f(e,t,c,n,a),o.end=f(e,t,u,n,a)},b=function(t,i){return{restrict:"E",scope:{option:"=",value:"="},link:function(a,f){var w=e.element(document),b=e.element(window),x=r(a.option,o);s(x),x.handles||(x.handles=[],x.handles[0]=x.start);var y,E,g,M,$,F,j,P,Q,W,k,D,I,N=0,X={},q=function(){y=e.element(f.children()[0]),E=e.element(y.children()[0]),g=e.element(y.children()[1]),M=e.element(E.children()[0]),$=x.end-x.start,F=y.prop("clientWidth"),j=c($,F,0),P=c($,F,x.end-x.start),Q||(Q=e.element(n),E.append(Q),Q.attr("id","handle0")),k=c($,F,x.handles[0]-x.start),"undefined"!=typeof a.value.start?(Q.css("left",c($,F,a.value.start)+"px"),X.handle0=c($,F,a.value.start)):"undefined"!=typeof a.value.point?(Q.css("left",c($,F,a.value.point)+"px"),X.handle0=c($,F,a.value.point)):(Q.css("left",k+"px"),X.handle0=k),h(g,Q),x.handles[1]&&(W||(W=e.element(n),E.append(W),W.attr("id","handle1")),D=c($,F,x.handles[1]-x.start),"undefined"!=typeof a.value.end?(W.css("left",c($,F,a.value.end)+"px"),X.handle1=c($,F,a.value.end)):(W.css("left",D+"px"),X.handle1=D),h(g,Q,W),m(M,Q,W)),p($,F,x.decimals,a.value,Q,W,x),v(a,x)},z=function(e){var t=d(e),n=X[I.attr("id")]+t.clientX-N;n>=j&&P>=n&&(I.css("left",n+"px"),W&&m(M,Q,W),h(g,Q,W),a.$apply(function(){p($,F,x.decimals,a.value,Q,W,x),v(a,x)}),i.$broadcast("sliderMove")),u(e)},R=function(e){N=0,X[I.attr("id")]=l(I),I=void 0,w.off("mousemove touchmove",z),w.off("mouseup touchend",R),u(e),i.$broadcast("sliderMoveEnd")},S=function(e){return function(t){var n=d(t);I=e,N=n.clientX,w.on("mousemove touchmove",z),w.on("mouseup touchend",R),u(t)}};t(q).then(function(){var e=S(Q),t=S(W);Q.on("mousedown touchstart",e),W&&W.on("mousedown touchstart",t)}),b.on("resize",function(){t(function(){q()},500)}),a.$on("$destroy",function(){Q.off("mousedown touchstart",start0),W&&W.off("mousedown touchstart",start1),w.off("mousemove touchmove",z),w.off("mouseup touchend",R)})},template:'<div class="slider"><div class="slider-track"><div class="slider-selection"></div></div><div class="hint"><div class="hint-arrow"></div><div class="hint-inner">{{ output }}</div></div></div>'}};return t.directive("sliderEasy",["$timeout","$rootScope",b]),"angular-slider-easy"});